<html>
        <head>
                <script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
                <script type="text/processing" data-processing-target="mycanvas">
                        
                        var spells = {
                            "Accio": "Summons an object",
                            "Aguamenti": "Shoots water from wand",
                            "Alohomora": "Opens locked objects",
                            "Anapneo": "Clears the airway of a target",
                            "Aparecium": "Reveals invisible ink",
                            //"Avada Kedavra": "Murders opponent Unforgivable",
                            "Avifors": "Turns small objects into birds",
                            "Avis": "Launches birds from your wand",
                            //"Cave Inimicum": "Strengthen an enclosure from enemies",
                            "Colloportus": "Magically locks door",
                            "Confringo": "Explode Flames on target",
                            "Confundus": "Used to confuse opponent",
                            "Conjunctivitis": "Damages opponents eyesight",
                            "Crucio": "Tortures opponent Unforgivable",
                            "Defodio": "Dig out materials",
                            "Deletrius": "Counters 'Prior Incatato'",
                            "Densaugeo": "Enlarges Teeth",
                            "Deprimo": "Wind damaging spell",
                            "Diffindo": "Splits seams",
                            "Dissendium": "Opens 'one-eyed witch' hump",
                            "Duro": "Makes Objects Hard",
                            "Engorgio": "Enlarges and item",
                            "Ennervate": "Counters Stupefy",
                            "Episkey": "Heals minor injuries",
                            "Erecto": "Erects things",
                            //"Expecto Patronum": "Creates a Patronus",
                            "Expelliarmus": "Disarms your opponent",
                            "Expulso": "Makes Objects Explode",
                            "Ferula": "Creates bandages",
                            "Fidelius": "Hides a secret within someone",
                            //"Finite Incantatum": "Stops any current spells",
                            "Flagrate": "Allows user to write on objects",
                            "Flipendo": "Knocks an object backwards",
                            "Furnunculus": "Produces boils on opponent",
                            "Geminio": "Duplicates an Object",
                            "Glisseo": "Turns stairs into ramps",
                            //"Homenum Revelio": "Reveals humans nearby",
                            "Homorphus": "Werewolf 'cure' by Lockhart",
                            "Immobulus": "Renders target immobile",
                            "Impedimenta": "Slows an advancing object",
                            "Imperio": "Controls a person Unforgivable",
                            "Impervius": "Makes an object repel water",
                            "Incarcerous": "Ties someone up",
                            "Incendio": "Starts a fire",
                            "Langlock": "Glues tongue of opponent to roof of mouth",
                            "Legilimens": "Allows the caster to delve into the mind of the victim",
                            "Levicorpus": "Hangs victim upside down by feet",
                            "Liberacorpus": "Counterspell",
                            //"Locomotor Mortis": "Locks opponents legs",
                            "Lumos": "Creates light at wand tip",
                            //"Meteolojinx Recanto": "Causes weather effect spells to stop",
                            "Mobiliarbus": "Moves objects with wand",
                            "Mobilicorpus": "Moves unconscious bodies",
                            "Morsmorde": "Conjures the Dark Mark",
                            "Muffliato": "Prevents nearby people from listening to conversations",
                            "Nox": "Counter to Lumos",
                            "Obliviate": "Erases memories",
                            "Obscuro": "Blindfolds the victim",
                            "Oppugno": "Makes conjured items attack",
                            "Orchideous": "Conjures a bunch of flowers",
                            "Pack": "Packs a trunk (suitcase)",
                            //"Peskipiksi Pesternomi": "Removes Pixies (maybe)",
                            //"Petrificus Totalus": "Body - Bind",
                            //"Piertotum Locomotor": "Animates statues and armor suits",
                            //"Point Me": "Wand acts like a compass",
                            //"Priori Incantatum": "Result when brother wands duel",
                            //"Prior Incantato": "Reveals the last spell or cast of a wand",
                            "Protego": "Cause spells to reflect back to the sender",
                            //"Protego Horribilis": "Protects one from Dark Magic",
                            //"Protego Totalum": "Area protection spell",
                            "Quietus": "Counter spell for Sonorus",
                            "Reducio": "Returns items to original size. Counters Engorgio",
                            "Reducto": "Blasts solid objects aside",
                            "Relashio": "Releases user from binding",
                            "Rennervate": "Cures unconsciousness",
                            "Reparo": "Repairs Things",
                            //"Repello Muggletum": "Keeps Muggles away",
                            "Rictusempra": "Tickles opponent",
                            "Riddikulus": "Use this spell and laugh to defeat a boggart",
                            //"Salvio Hexia": "Protection against hexes",
                            "Scruge": "Destroys ectoplasm (remains of ghosts)",
                            "Sectumsempra": "Causes wounds as if slashed by a sword",
                            "Serpensortia": "Produces Snake",
                            "Silencio": "Silences victim",
                            "Sonorus": "Amplifies voice",
                            //"Specialis Revelio": "Reveals Hidden secrets or magical properties",
                            "Stupefy": "Knocks out opponent",
                            "Tarantallegra": "Forces opponent to dance",
                            "Tergeo": "Cleans up messes",
                            "Waddiwasi": "Unsticks an object",
                            //"Wingardium Leviosa": "Makes on object fly",
                        }
                        
                        //edit code for spells with spaces (change way lines show up and change random # range)
                        

                        size(1000, 500);
                        background(0, 255, 175);
                        var spell_names = Object.keys(spells);
                        //var spell_meanings = Object.values(spells);
                        var number = round(random(0,71));
                        var word = spell_names[number];
                        //var meaning = spell_meanings[number];
                        var length = word.length;
                        var lines = [];
                        var xpos = [];
                        console.log(word);
                        for (var i=0; i<length; i++){
                                space = new Spaces(i*55+10);
                                lines.push(space);
                                xpos.push(space.xPosition);
                        }
                        for (var i=0; i<lines.length; i++) {
                                lines[i].drawSpaces();
                        }
                        //console.log(xpos);

                        alert("guess a harry potter spell ^_^");
                        var word = word.toLowerCase();
                        var letters = [];
                        var guesses = [];
                        var wrongs = 0;
                        var a = 0;
                        while (letters.length < word.length){
                            var guessed = 0;
                            var wrong = 0;
                            var turn = [];
                            var guess = prompt("guess a letter (type in lowercase)");
                            if (guess === null){
                                break;
                            }
                            for (var i=0; i < guesses.length; i++){
                                if (guesses[i] === guess){
                                    alert("letter already guessed");
                                    var guessed = 1;
                                    break;
                                }
                            }
                            if (guessed === 0){
                                guesses.push(guess);
                                for (var i = 0; i < word.length; i++){
                                    if (word.charAt(i) === guess){
                                        letters.push(i);
                                        turn.push(i);
                                        var wrong = 1;
                                    }
                                }
                                if (wrong === 1){
                                    for (var i = 0; i < turn.length; i++){
                                        letter = new Letters(String(guess), 64, xpos[turn[i]] + 10, 450);
                                        letter.drawLetters();
                                        //text(String(guess), xpos[turn[i]] + 10, 450);
                                    }
                                }
                                else{
                                    alert("wrong letter");
                                    var wrongs = wrongs + 1;
                                    var a = a + 1;
                                    letter = new Letters(String(guess), 24, a*25 + 50, 100);
                                    letter.drawLetters();
                                    if (a > 0){
                                        body = new Body(800, 200, 800, 300);
                                        body.drawBody();
                                    }
                                    if (a > 1){
                                        body = new Body(800, 230, 850, 200);
                                        body.drawBody();
                                    }
                                    if (a > 2){
                                        body = new Body(800, 230, 750, 200);
                                        body.drawBody();     
                                    }
                                    if (a > 3){
                                        body = new Body(800, 300, 830, 350);
                                        body.drawBody();     
                                    }
                                    if (a > 4){
                                        body = new Body(800, 300, 770, 350);
                                        body.drawBody();     
                                    }
                                    if (a > 5){
                                        head = new Head(800, 170, 50, 50);
                                        head.drawHead();
                                    }
                                    if (a > 6){
                                        head = new Head(790, 162, 2, 2);
                                        head.drawHead();
                                    }
                                    if (a > 7){
                                        head = new Head(810, 162, 2, 2);
                                        head.drawHead();
                                    }
                                    if (a > 8){
                                        head = new Head(800, 180, 10, 5);
                                        head.drawHead();
                                    }
                                    if (a > 9){
                                        background(0, 255, 175);
                                        text("hangman dies :(", 400, 250);
                                        break;
                                    }
                                }
                            }
                        }

                        if (letters.length === word.length){
                            fill(0, 150, 200);
                            text("you win yay !", 300, 250);
                            textSize(32);
                            //setTimeout(function(){text(String(word) + " -- " + String(meaning), 300, 350)}, 3000);

                        }
                        
                        console.log(letters);                      
                        console.log(guesses);
                
                        //word.indexOf("")
                        

                        class Spaces{
                            //attributes
                            var width;
                            var length;
                            var xPosition;
                            var yPosition;
                            var color;

                            //constructor
                            Spaces(x){
                                xPosition = x;
                                yPosition = 450;
                                width = 50;
                                length = 5;
                                color = (0, 0, 0);
                        
                            }

                            void drawSpaces(){
                                //noStroke();
                                fill(color);
                                rect(xPosition, yPosition, width, length);
                            }
                        }

                        class Letters{
                            var color;
                            var letter;
                            var size;
                            var xPosition;
                            var yPosition;

                            Letters(l, s, x, y){
                                color = (0,0,0);
                                letter = l;
                                size = s;
                                xPosition = x;
                                yPosition = y;
                            }

                            void drawLetters(){
                                fill(color);
                                textSize(size);
                                text(letter, xPosition, yPosition);
                            }
                        }

                        class Body{
                            //atributes
                            var x1Position;
                            var y1Position
                            var x2Position
                            var y2Position;
                            var stroke;

                            //constructor
                            Body(x1, y1, x2, y2){
                                x1Position = x1;
                                y1Position = y1;
                                x2Position = x2;
                                y2Position = y2;
                                stroke = 10;
                            }

                            void drawBody(){
                                strokeWeight(stroke);
                                line(x1Position, y1Position, x2Position, y2Position);
                            }
                        }

                        class Head{
                            var xPosition;
                            var yPosition;
                            var width;
                            var height;
                            var stroke;
                            var color;

                            Head(x, y, w, h){
                                xPosition = x;
                                yPosition = y;
                                width = w;
                                height = h;
                                stroke = 10;
                                color = (0, 255, 175);
                            }

                            void drawHead(){
                                strokeWeight(stroke);
                                fill(color);
                                ellipse(xPosition, yPosition, width, height);
                            }
                        }

                </script>
        </head>
        <body>
                <canvas id="mycanvas"></canvas>
        </body>
</html>